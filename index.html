<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dbara ‚Äì Ramadhan Night Iftar Picker</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
html { scroll-behavior: smooth; }

body {
    background: linear-gradient(135deg, #0a0a1a, #1b1b40);
    color: white;
    min-height: 100vh;
    text-align: center;
    position: relative;
}

header { padding: 30px; font-size: 2rem; font-weight: 700; }

.container { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; padding: 20px; position: relative; z-index: 10; }

.card {
    width: 300px;
    background: rgba(255,255,255,0.05);
    backdrop-filter: blur(15px);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.6);
    transition: 0.3s ease;
    position: relative;
    z-index: 10;
}
.card:hover { transform: translateY(-10px); }

.category { font-size: 1rem; font-weight: 300; opacity: 0.7; margin-bottom: 10px; }
.result { font-size: 1.2rem; min-height: 50px; margin: 15px 0; }
.food-img { width: 100%; height: 180px; object-fit: cover; border-radius: 15px; margin-bottom: 10px; transition: opacity 0.3s ease; }
button { background: linear-gradient(45deg, #d4af37, #f5d76e); border: none; padding: 10px 25px; border-radius: 30px; font-weight: 500; cursor: pointer; margin-top: 10px; }
button:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(255,215,0,0.6); }
.spinning { animation: pulse 0.2s linear infinite; }
@keyframes pulse { 0% { transform: scale(1); opacity: 0.6; } 50% { transform: scale(1.1); opacity: 1; } 100% { transform: scale(1); opacity: 0.6; } }
.generate-all { margin: 30px; }

/* üåô Stars & Moon */
.star, .moon {
    position: absolute;
    border-radius: 50%;
    pointer-events: none;
    z-index: 1;
    transform: translateY(0);
}
.star {
    background: white;
    width: 3px;
    height: 3px;
    opacity: 0.8;
    animation: floatStars linear infinite;
}
.moon {
    width: 50px;
    height: 50px;
    background: radial-gradient(circle at 30% 30%, #fff, #ccc);
    top: 50px;
    right: 50px;
    opacity: 0.9;
    animation: moonTwinkle 3s ease-in-out infinite alternate;
}

/* Star float animation */
@keyframes floatStars {
    0% { transform: translateY(0px) translateX(0px); opacity: 0.8; }
    50% { transform: translateY(-50px) translateX(20px); opacity: 0.5; }
    100% { transform: translateY(0px) translateX(0px); opacity: 0.8; }
}

/* Moon twinkle */
@keyframes moonTwinkle {
    0% { opacity: 0.8; transform: scale(1) translateY(0); }
    50% { opacity: 1; transform: scale(1.05) translateY(-5px); }
    100% { opacity: 0.9; transform: scale(1) translateY(0); }
}
</style>
</head>
<body>

<header>üåô Dbara Tounsiya</header>

<div class="container">

  <!-- Soup Card -->
  <div class="card">
    <div class="category">ü•£ Soup</div>
    <img id="soupImage" class="food-img" src="" alt="Soup Image">
    <div class="result" id="soupResult">Click Spin</div>
    <button onclick="spin('soup')">Spin</button>
  </div>

  <!-- Starter Card -->
  <div class="card">
    <div class="category">ü•ü Starter</div>
    <img id="starterImage" class="food-img" src="" alt="Starter Image">
    <div class="result" id="starterResult">Click Spin</div>
    <button onclick="spin('starter')">Spin</button>
  </div>

  <!-- Main Card -->
  <div class="card">
    <div class="category">üç≤ Main</div>
    <img id="mainImage" class="food-img" src="" alt="Main Image">
    <div class="result" id="mainResult">Click Spin</div>
    <button onclick="spin('main')">Spin</button>
  </div>

</div>

<div class="generate-all">
  <button onclick="spinAll()">Generate Full Menu</button>
</div>

<script>
// üåü Food Data
const data = {
  soup: [
    {name: "Chorba Frik", img: "https://images.unsplash.com/photo-1604908176997-43199f90eaf5"},
    {name: "Chorba Lsen Asfour", img: "https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9"},
    {name: "Chorba Hout", img: "https://images.unsplash.com/photo-1600891964599-f61ba0e24092"},
    {name: "Velout√© l√©gumes", img: "https://images.unsplash.com/photo-1604908176997-43199f90eaf5"},
    {name: "Hssou", img: "https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9"}
  ],
  starter: [
    {name: "Brik √† l'≈ìuf", img: "https://images.unsplash.com/photo-1622636326996-c12d28fa6e9d"},
    {name: "Brik Thon", img: "https://images.unsplash.com/photo-1598514984107-1a3c2e3c8c7f"},
    {name: "Salade Mechouia", img: "https://images.unsplash.com/photo-1604908176997-43199f90eaf5"},
    {name: "Slata Tounsiya", img: "https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9"},
    {name: "Tajine Jben", img: "https://images.unsplash.com/photo-1600891964599-f61ba0e24092"},
    {name: "Ojja Merguez", img: "https://images.unsplash.com/photo-1600891964599-f61ba0e24092"}
  ],
  main: [
    {name: "Couscous bel 3allouch", img: "https://images.unsplash.com/photo-1604908176997-43199f90eaf5"},
    {name: "Makrouna Salsa", img: "https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9"},
    {name: "Mloukhiya", img: "https://images.unsplash.com/photo-1600891964599-f61ba0e24092"},
    {name: "Djej Mhamer", img: "https://images.unsplash.com/photo-1600891964599-f61ba0e24092"},
    {name: "Hout Mhamer", img: "https://images.unsplash.com/photo-1600891964599-f61ba0e24092"},
    {name: "Kefta bel Batata", img: "https://images.unsplash.com/photo-1600891964599-f61ba0e24092"}
  ]
};

const used = { soup: [], starter: [], main: [] };

// üåü Random pick with no-repeat
function getRandom(type){
  if(used[type].length===data[type].length) used[type]=[];
  let remaining = data[type].filter(item => !used[type].includes(item));
  let randomItem = remaining[Math.floor(Math.random()*remaining.length)];
  used[type].push(randomItem);
  return randomItem;
}

// üåü Spin animation
function spin(type){
  const resultElement=document.getElementById(type+'Result');
  const imageElement=document.getElementById(type+'Image');
  let counter=0;
  const interval=setInterval(()=>{
    const random = data[type][Math.floor(Math.random()*data[type].length)];
    resultElement.innerText = random.name;
    imageElement.style.opacity=0.5;
    imageElement.src=random.img;
    counter++;
    if(counter>15){
      clearInterval(interval);
      const final=getRandom(type);
      resultElement.innerText=final.name;
      imageElement.src=final.img;
      imageElement.style.opacity=1;
    }
  },80);
}

function spinAll(){ spin("soup"); spin("starter"); spin("main"); }

// üåå Create stars and moon
function createNightElements(){
  const countStars=50;
  for(let i=0;i<countStars;i++){
    const star=document.createElement('div');
    star.className='star';
    star.style.top=Math.random()*window.innerHeight+'px';
    star.style.left=Math.random()*window.innerWidth+'px';
    star.style.width=(Math.random()*2+1)+'px';
    star.style.height=(Math.random()*2+1)+'px';
    star.style.animationDuration=(5+Math.random()*10)+'s';
    document.body.appendChild(star);
  }
  const moon=document.createElement('div');
  moon.className='moon';
  document.body.appendChild(moon);
}
createNightElements();

// üåå Parallax on scroll
window.addEventListener('scroll', ()=>{
  const scrollY=window.scrollY;
  document.querySelectorAll('.star').forEach((star,index)=>{
    star.style.transform=`translateY(${scrollY*(index%5+1)*0.02}px)`;
  });
  const moon=document.querySelector('.moon');
  if(moon) moon.style.transform=`translateY(${scrollY*0.05}px)`;
});
</script>

</body>
</html>
